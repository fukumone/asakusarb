* 第2回ログ

* 日時
2008年7月26日(Sat.) 16:00〜

* 場所
墨田区某所

* 参加者
9名。第1回に引き続き、超豪華メンバー。

* やったこと
** 自己紹介

やっぱりご近所さんが多い感じですが、「浅草まで電車で一本」という理由で栃木からのご参加も！

というわけで、Asakusa.rbへは浅草近辺在住でなくても参加できますので、参加されたい方はお気軽にどうぞ。

** 隅田川花火大会鑑賞

ちょっと夕立が心配だったので「花火を見ながらHack」はできず、また花火の大きな音に遮られて議論もできず。本当に花火鑑賞会になってしまいました。

** YARV on Rails (その2)

残念ながら、前回からの進捗はありませんでした。

* メモ

** Ruby 1.9 標準添付の rubygems について

- Ruby 1.9 には rubygems (のシステム)が添付されているけど、あまり知られていない

** Ruby自体に関するバグ報告について

- Ruby Issue Tracking Systemに報告してね
-- http://redmine.ruby-lang.org/
- そもそもRuby Issue Tracking Systemがあまり知られていない
--RubyがSEGVしたら自動でRuby Issue Tracking Systemにチケット発行する仕組みをRubyに組み込んじゃうとか(Windowsみたいに)
---そんなことしたら同じようなチケットばかり発行されて大変

** Rubyのメソッドについていろいろ

- Rubyのメソッド情報(respond_to?)はキャッシュされている (nagative cache もある)
- メソッドサーチの探索コストは初回だけになるので、Moduleを1万個includeすることも可能
- 新しく include したらキャッシュはクリアされる
- クラスを100万個作っても動作がおかしくなることはない (メモリは消費する)
- Railsが内部でがんがん無名クラスを作ってるけど...
-- 無名ならGCが走ればOK
-UnboundMethodを別クラスに付け替えたい
--メソッドはそのクラスのコンテキストに依存してるはずだから、付け替えたいという要求がおかしい
---コンテキストがうまい具合に一致しえるときに使いたい
--最初からModuleにしては？
---既存のライブラリなどで手を出せないものに使いたい
--付け替えは、実装上の制約が問題になる可能性がある
---やるなら、ソースを覚えておいて再度動的にeval？
-Method#to_source が欲しい
--Cで定義されたメソッドはどうするんだ？で一貫性を重視する議論になって大体消える
-Javascriptのagumentsオブジェクトが欲しい
--super (引数なし)で同じことをやっているので実装のベースは既にある
--ベンチが少し遅くなりそう
---ベンチの数値よりもコード量が減って可読性が上がる方がいい
--それで数行減らせて本当に嬉しいの？
---世界中のRubyコードから数%の無駄なコードが減る。

** Railsのバージョンについて

- 進化が早いのでついていくのが大変
- フレームワーク単体の追随よりも、プラグインの追随が大変。
-- Railsで作ったWebアプリはプラグイン依存になりがち

** Macのcoreファイルの保存先

- ルートディレクトリ直下の/coresフォルダ内に生成される
-- きもい、という意見も