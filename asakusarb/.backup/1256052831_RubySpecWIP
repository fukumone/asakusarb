* RubySpec作業中

[[RubySpec]]で調査してみたもののリスト。[[RedMine|http://rubyspec.org/projects/rubyspec/issues]]に登録したものは消していこう。

* ターゲット: 1.8.7

** redmineに報告しよう

- http://redmine.ruby-lang.org/issues/show/2239
-- redmine.ruby-lang.org に「RubySpec」を追加してほしいという要望を書いた!

(いまはナシ)

** ruby-devで相談してみた

-library/bigdecimal/to_i_spec.rb
-library/bigdecimal/to_int_spec.rb
-- ちょっとしらべた。1.8.6から1.8.7とtrunkで挙動かわってる気がする -> [ruby-dev:39374]


-library/enumerator/next_spec.rb
-- Enumerator#next で StopIteration 例外が発生している enum に対してさらに next を呼ぶと最初に戻ってる。これはtrunkの未バックポート? それとも仕様?
-- ↑ 勇気を出して聞いてみたよ! -> [[[ruby-dev:39413]|http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-dev/39413]]


** ruby-devで相談する?

** ちょっと見ただけだとわからなかった

以下3つは、

-library/complex/numeric/angle_spec.rb
-library/complex/numeric/arg_spec.rb
-library/complex/numeric/polar_spec.rb

redmineの http://redmine.ruby-lang.org/issues/show/1715 と関係あるっぽいけどわかんない。

↑これが1.8.7p174でも修正されてない(というかチケット閉じられてる)のでスキップしても、

http://github.com/rubyspec/rubyspec/blob/master/shared/complex/numeric/arg.rb

の35行目で止まる("This was established in r23960"だそうな)。

mathnの「**」方面の3つは、

-library/mathn/bignum/exponent_spec.rb
-library/mathn/fixnum/exponent_spec.rb
-library/mathn/fixnum/exponent_spec.rb

r25243だと通る。バージョンの問題? ruby1.8だと正しいのは何だろう……。

- library/conditionvariable/broadcast_spec.rb

broadcast_spec 単品で動かすと通る? conditionvariableのレベルでも通る? まとめて実行するとだめ?

* ターゲット: 1.9

(勇者求ム)